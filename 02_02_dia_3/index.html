<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lista de Tareas</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body onload="empiezaTiempo()">
    
    <h2>Trata de Responder lo Más Rápido que Puedas</h2>
    <h1 id="parrafoTiempo">Te Quedan <span id="tiempo">30</span> segundos</h1>
    <br>
    <p>¿Cual es la Capital de Francia?</p>
    <input type="text" id="respuesta1">
    <p>¿Cual es el Resultado de la Operación: (7+4)x2?</p>
    <input type="text" id="respuesta2">

    <p>¿Que año se descubrió América?</p>
    <input type="text" id="respuesta3">

    <p>¿Tenián los Aztecas Pirámides?</p>
    <input type="text" id="respuesta4">

    <p>¿Dónde Nació el Emprerador Romano Trajano?</p>
    <input type="text" id="respuesta5">

    <br>

    <button onclick="finalizado()">He Terminado!!</button>
    <br>
    <button onclick="limpiar()">Reiniciar</button>
    
    <audio id="audio">        <source src="https://cld2099web.audiovideoweb.com/va90web25003/companions/Foundations%20of%20Rock/13.01.mp3" type="audio/mpeg">
    </audio>

    <script>
        //let tiempo=document.getElementById("avisarAcaboTiempo");
            let intervaloTiempo;
            let cuentaAtras;
        function empiezaTiempo(){
            let time = new Date();
            let date=time.toLocaleDateString("es-Es");
            let timeNow=time.toLocaleTimeString("es-Es")

            
            //console.log("Toma mi rabo y Corre: " + timeNow);
            cuentaAtras=setTimeout(avisarAcaboTiempo,30000);
            intervaloTiempo=setInterval(cuentaRegresiva,1000);
            console.log("Empieza la cuenta Regresiva");
            let tiempo=document.getElementById("tiempo");
            tiempo.textContent="30";
        }

        function cuentaRegresiva(){
            
            let tiempo=document.getElementById("tiempo");
            let segundosQuedan=Number(tiempo.textContent);
            segundosQuedan=segundosQuedan-1;
            tiempo.textContent=segundosQuedan;

        }

        //function actualizaSegundos(){
        //    let tiempo=document.getElementById("tiempo");
        //    let time = new Date();
        //    let timeNow=time.toLocaleTimeString("es-Es");
        //    console.log(timeNow);
        //    tiempo.textContent=timeNow;
        //
        //}
        function avisarAcaboTiempo() {
            
            let tiempo=document.getElementById("parrafoTiempo");
            tiempo.textContent="Se Acabó tu tiempo";
            tiempo.style.color="red";
            alert("Lo Siento, no te ha dado tiempo a Terminar!!!\nPuedes Volver a Intentarlo Tantas Veces como Quieras");
            let audio=document.getElementById("audio");
            audio.play();
        }

        function finalizado(){
            clearTimeout(cuentaAtras);
            clearInterval(intervaloTiempo);
            let time = new Date();
            let dayNow=time.toLocaleDateString("es-Es");
            let timeNow=time.toLocaleTimeString("es-Es")
            let respuesta1=document.getElementById("respuesta1").value;
            let respuesta2=document.getElementById("respuesta2").value;
            let respuesta3=document.getElementById("respuesta3").value;
            let respuesta4=document.getElementById("respuesta4").value;
            let respuesta5=document.getElementById("respuesta5").value;
            alert(`Hoy es Día: ${dayNow} a la hora: ${timeNow}
Has Completa todas las preguntas, estas son tus respuestas:
    1. ${respuesta1} 
    2. ${respuesta2} 
    3. ${respuesta3} 
    4. ${respuesta4} 
    5. ${respuesta5} 
             `)
        }
        function limpiar(){
            location.reload();
        }


    </script>
</body>
</html>